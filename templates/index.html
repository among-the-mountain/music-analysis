{% extends "base.html" %}

{% block title %}Dashboard - Music Analysis{% endblock %}

{% block content %}
<div class="container">
    <div class="hero-section">
        <h1>ðŸŽµ Music Emotion Analysis Dashboard</h1>
        <p class="hero-subtitle">Discover music patterns through AI-powered clustering and multi-dimensional feature analysis</p>
    </div>
    
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">ðŸŽµ</div>
            <div class="stat-content">
                <h3>{{ total_tracks }}</h3>
                <p>Total Tracks</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ðŸŽ¯</div>
            <div class="stat-content">
                <h3>{{ n_clusters }}</h3>
                <p>Emotion Clusters</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ðŸ“Š</div>
            <div class="stat-content">
                <h3>7</h3>
                <p>Feature Dimensions</p>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-icon">ðŸ¤–</div>
            <div class="stat-content">
                <h3>K-Means</h3>
                <p>ML Algorithm</p>
            </div>
        </div>
    </div>
    
    <div class="info-section">
        <h2>ðŸ“Š About This Analysis</h2>
        <div class="info-grid">
            <div class="info-card">
                <h3>ðŸŽ¯ Multi-Dimensional Feature Extraction</h3>
                <p>We analyze 7 key music features including:</p>
                <ul>
                    <li><strong>Danceability:</strong> How suitable a track is for dancing</li>
                    <li><strong>Energy:</strong> Intensity and activity level</li>
                    <li><strong>Valence:</strong> Musical positiveness (happiness level)</li>
                    <li><strong>Acousticness:</strong> Confidence the track is acoustic</li>
                    <li><strong>Instrumentalness:</strong> Predicts vocal presence</li>
                    <li><strong>Speechiness:</strong> Presence of spoken words</li>
                    <li><strong>Liveness:</strong> Presence of audience in recording</li>
                </ul>
            </div>
            
            <div class="info-card">
                <h3>ðŸ”„ Data Normalization</h3>
                <p>Using <strong>StandardScaler</strong> to normalize features:</p>
                <ul>
                    <li>Ensures all features have equal weight</li>
                    <li>Removes bias from different value ranges</li>
                    <li>Improves clustering accuracy</li>
                    <li>Standardizes feature space for ML algorithms</li>
                </ul>
            </div>
            
            <div class="info-card">
                <h3>ðŸ¤– K-Means Clustering</h3>
                <p>Unsupervised learning to group similar music:</p>
                <ul>
                    <li>Automatically categorizes tracks by emotion</li>
                    <li>Creates {{ n_clusters }} distinct music clusters</li>
                    <li>Groups similar emotional characteristics</li>
                    <li>Reveals hidden patterns in music data</li>
                </ul>
            </div>
            
            <div class="info-card">
                <h3>ðŸ“ˆ Visualization Features</h3>
                <p>Interactive charts for deep insights:</p>
                <ul>
                    <li><strong>Radar Charts:</strong> Feature profiles per cluster</li>
                    <li><strong>Scatter Plots:</strong> Track distribution visualization</li>
                    <li><strong>3D Plots:</strong> Multi-dimensional space exploration</li>
                    <li><strong>Heatmaps:</strong> Feature correlation analysis</li>
                </ul>
            </div>
        </div>
    </div>
    
    <div class="cluster-preview">
        <h2>ðŸŽ­ Emotion Clusters Overview</h2>
        <div class="cluster-cards">
            {% for cluster_id in range(n_clusters) %}
            <div class="cluster-preview-card">
                <div class="cluster-number">{{ cluster_id + 1 }}</div>
                <div class="cluster-info">
                    <h4>{{ cluster_stats.index[cluster_id] }}</h4>
                    <p>{{ cluster_stats.loc[cluster_id, 'count']|int }} tracks</p>
                    <div class="feature-mini">
                        <span class="feature-badge">ðŸ’ƒ {{ "%.2f"|format(cluster_stats.loc[cluster_id, 'danceability']) }}</span>
                        <span class="feature-badge">âš¡ {{ "%.2f"|format(cluster_stats.loc[cluster_id, 'energy']) }}</span>
                        <span class="feature-badge">ðŸ˜Š {{ "%.2f"|format(cluster_stats.loc[cluster_id, 'valence']) }}</span>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    
    <div class="cta-section">
        <h2>ðŸš€ Explore the Data</h2>
        <div class="cta-buttons">
            <a href="/analysis" class="btn btn-primary">View Detailed Analysis</a>
            <a href="/clusters" class="btn btn-secondary">Explore Clusters</a>
        </div>
    </div>
</div>
{% endblock %}
